<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrantFlow CRM | AI Grant Writing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a472a; /* Forest Green */
            --primary-light: #2e8b57; /* Medium Sea Green */
            --secondary: #daa520; /* Gold */
            --success: #228b22; /* Forest Green variant */
            --warning: #b8860b; /* Dark Goldenrod */
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: var(--box-shadow);
            padding: 20px 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 20px;
        }

        .logo img {
            height: 32px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark);
        }

        .nav-links {
            list-style: none;
            padding: 0 15px;
        }

        .nav-links li {
            margin-bottom: 5px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            text-decoration: none;
            color: var(--gray);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: rgba(26, 71, 42, 0.1);
            color: var(--primary);
        }

        .nav-links i {
            margin-right: 10px;
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .header h2 {
            font-weight: 600;
            color: var(--dark);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .notification-icon {
            position: relative;
            font-size: 20px;
            color: var(--gray);
            cursor: pointer;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--warning);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .user-profile:hover {
            background: rgba(26, 71, 42, 0.1);
        }

        .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            font-size: 14px;
        }

        .user-role {
            font-size: 12px;
            color: var(--gray);
        }

        .dropdown-menu {
            position: absolute;
            top: 70px;
            right: 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 200px;
            padding: 10px 0;
            z-index: 1000;
            display: none;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            text-decoration: none;
            color: var(--dark);
            transition: var(--transition);
        }

        .dropdown-item:hover {
            background: rgba(26, 71, 42, 0.1);
        }

        .dropdown-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* Section Styles */
        .section {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h3 {
            font-weight: 600;
            color: var(--dark);
        }

        .btn {
            padding: 8px 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .btn:hover {
            background: var(--primary-light);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(26, 71, 42, 0.1);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-success:hover {
            background: #1e7e34;
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: #c69500;
        }

        /* AI Writing Hero */
        .ai-writing-hero {
            background: linear-gradient(135deg, #1a472a 0%, #2e8b57 100%);
            border-radius: var(--border-radius);
            padding: 40px;
            color: white;
            margin-bottom: 30px;
            text-align: center;
        }

        .ai-writing-hero i {
            font-size: 48px;
            margin-bottom: 20px;
            display: block;
        }

        .ai-writing-hero h2 {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .ai-writing-hero p {
            font-size: 18px;
            margin-bottom: 25px;
            opacity: 0.9;
        }

        .writing-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        /* Writing Workspace */
        .writing-workspace {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }

        .writing-input {
            flex: 1;
        }

        .writing-preview {
            flex: 1;
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .writing-preview h3 {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light-gray);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 71, 42, 0.1);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* AI Writing Steps */
        .ai-writing-steps {
            margin-bottom: 20px;
        }

        .ai-step {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: var(--border-radius);
            background: rgba(26, 71, 42, 0.05);
            transition: var(--transition);
        }

        .ai-step.active {
            background: rgba(26, 71, 42, 0.1);
            border-left: 4px solid var(--primary);
        }

        .ai-step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .ai-step-content h4 {
            margin-bottom: 5px;
        }

        .ai-step-content p {
            font-size: 14px;
            color: var(--gray);
        }

        /* AI Draft Preview */
        .ai-draft {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--box-shadow);
        }

        .ai-draft-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .ai-draft-title {
            font-weight: 600;
            font-size: 18px;
        }

        .ai-draft-actions {
            display: flex;
            gap: 10px;
        }

        .ai-draft-content {
            line-height: 1.6;
        }

        .ai-draft-section {
            margin-bottom: 15px;
        }

        .ai-draft-section h4 {
            margin-bottom: 8px;
            color: var(--primary);
        }

        /* AI Suggestions */
        .ai-suggestions {
            margin-top: 20px;
        }

        .suggestion-card {
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .suggestion-card:hover {
            background: rgba(26, 71, 42, 0.05);
        }

        .suggestion-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .suggestion-type {
            background: rgba(218, 165, 32, 0.1);
            color: var(--secondary);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .suggestion-actions {
            display: flex;
            gap: 5px;
        }

        .suggestion-btn {
            padding: 4px 8px;
            background: transparent;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-size: 12px;
        }

        .suggestion-btn:hover {
            background: rgba(26, 71, 42, 0.1);
        }

        /* Writing Stats */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
        }

        .stat-1 .stat-icon {
            background: rgba(26, 71, 42, 0.1);
            color: var(--primary);
        }

        .stat-2 .stat-icon {
            background: rgba(218, 165, 32, 0.1);
            color: var(--secondary);
        }

        .stat-3 .stat-icon {
            background: rgba(34, 139, 34, 0.1);
            color: var(--success);
        }

        .stat-4 .stat-icon {
            background: rgba(184, 134, 11, 0.1);
            color: var(--warning);
        }

        .stat-info h3 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray);
            font-size: 14px;
        }

        /* Recent Drafts */
        .drafts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .draft-card {
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
        }

        .draft-card:hover {
            box-shadow: var(--box-shadow);
        }

        .draft-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .draft-title {
            font-weight: 600;
            font-size: 16px;
        }

        .draft-date {
            color: var(--gray);
            font-size: 14px;
        }

        .draft-preview {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .draft-actions {
            display: flex;
            gap: 10px;
        }

        /* AI Writing Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .modal-header h3 {
            font-weight: 600;
            color: var(--dark);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }

        /* Responsive */
        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding: 15px;
            }
            
            .nav-links {
                display: flex;
                overflow-x: auto;
            }
            
            .nav-links li {
                margin-right: 10px;
                margin-bottom: 0;
            }

            .writing-workspace {
                flex-direction: column;
            }

            .drafts-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .header-actions {
                width: 100%;
                justify-content: space-between;
            }

            .stats-container {
                grid-template-columns: 1fr 1fr;
            }

            .writing-actions {
                flex-direction: column;
            }

            .drafts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .stats-container {
                grid-template-columns: 1fr;
            }

            .ai-writing-hero {
                padding: 30px 20px;
            }

            .ai-writing-hero h2 {
                font-size: 24px;
            }

            .draft-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Main Application -->
    <div class="container" id="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <img src="https://i.imgur.com/9R0mZJw.png" alt="GrantFlow Logo">
                <h1>GrantFlow CRM</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#" data-page="dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="#" data-page="clients"><i class="fas fa-users"></i> Clients</a></li>
                <li><a href="#" data-page="grants"><i class="fas fa-file-alt"></i> Grants</a></li>
                <li><a href="#" data-page="submissions"><i class="fas fa-paper-plane"></i> Submissions</a></li>
                <li><a href="#" data-page="sources"><i class="fas fa-database"></i> Grant Sources</a></li>
                <li><a href="#" data-page="matching"><i class="fas fa-robot"></i> AI Matching</a></li>
                <li><a href="#" class="active" data-page="ai-writing"><i class="fas fa-pen-fancy"></i> AI Grant Writing</a></li>
                <li><a href="#" data-page="profile"><i class="fas fa-user"></i> My Profile</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h2 id="page-title">AI Grant Writing</h2>
                <div class="header-actions">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="user-profile" id="user-profile-toggle">
                        <img src="https://i.pravatar.cc/150?img=12" alt="User Avatar" id="user-avatar">
                        <div class="user-info">
                            <span class="user-name" id="user-display-name">Sarah Johnson</span>
                            <span class="user-role">Grant Manager</span>
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>

            <!-- Dropdown Menu -->
            <div class="dropdown-menu" id="user-dropdown">
                <a href="#" class="dropdown-item" data-page="profile">
                    <i class="fas fa-user"></i> My Profile
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-cog"></i> Settings
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-question-circle"></i> Help & Support
                </a>
                <a href="#" class="dropdown-item" id="dropdown-logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>

            <!-- AI Writing Content -->
            <div id="ai-writing-page" class="page-content">
                <!-- Hero Section -->
                <div class="ai-writing-hero">
                    <i class="fas fa-pen-fancy"></i>
                    <h2>AI-Powered Grant Writing</h2>
                    <p>Transform your grant writing process with our intelligent AI assistant. Create compelling, well-structured proposals in minutes instead of hours.</p>
                    <div class="writing-actions">
                        <button class="btn btn-secondary" id="start-writing-btn">
                            <i class="fas fa-bolt"></i> Start Writing
                        </button>
                        <button class="btn btn-outline">
                            <i class="fas fa-magic"></i> Enhance Existing Draft
                        </button>
                    </div>
                </div>

                <!-- Writing Stats -->
                <div class="stats-container">
                    <div class="stat-card stat-1">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>65%</h3>
                            <p>Time Saved</p>
                        </div>
                    </div>
                    <div class="stat-card stat-2">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3>42%</h3>
                            <p>Higher Success Rate</p>
                        </div>
                    </div>
                    <div class="stat-card stat-3">
                        <div class="stat-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>128</h3>
                            <p>Grants Written</p>
                        </div>
                    </div>
                    <div class="stat-card stat-4">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>$2.8M</h3>
                            <p>Secured Funding</p>
                        </div>
                    </div>
                </div>

                <!-- Writing Workspace -->
                <div class="section">
                    <div class="section-header">
                        <h3>Create New Grant Proposal</h3>
                        <button class="btn" id="generate-draft-btn">
                            <i class="fas fa-robot"></i> Generate Draft
                        </button>
                    </div>

                    <div class="writing-workspace">
                        <div class="writing-input">
                            <div class="ai-writing-steps">
                                <div class="ai-step active">
                                    <div class="ai-step-number">1</div>
                                    <div class="ai-step-content">
                                        <h4>Project Information</h4>
                                        <p>Provide details about your project and organization</p>
                                    </div>
                                </div>
                                <div class="ai-step">
                                    <div class="ai-step-number">2</div>
                                    <div class="ai-step-content">
                                        <h4>Grant Requirements</h4>
                                        <p>Specify the grant source and requirements</p>
                                    </div>
                                </div>
                                <div class="ai-step">
                                    <div class="ai-step-number">3</div>
                                    <div class="ai-step-content">
                                        <h4>Generate & Refine</h4>
                                        <p>AI creates the draft and you can refine it</p>
                                    </div>
                                </div>
                            </div>
                            
                            <form id="grant-writing-form">
                                <div class="form-group">
                                    <label for="project-title">Project Title</label>
                                    <input type="text" id="project-title" class="form-control" placeholder="Enter your project title" value="Youth Development Program">
                                </div>
                                
                                <div class="form-group">
                                    <label for="organization">Organization Name</label>
                                    <input type="text" id="organization" class="form-control" placeholder="Enter your organization name" value="Youth Empowerment Network">
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="grant-focus">Grant Focus Area</label>
                                        <select id="grant-focus" class="form-control">
                                            <option value="education" selected>Education</option>
                                            <option value="healthcare">Healthcare</option>
                                            <option value="environment">Environment</option>
                                            <option value="arts">Arts & Culture</option>
                                            <option value="community">Community Development</option>
                                            <option value="technology">Technology</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="grant-amount">Requested Amount</label>
                                        <input type="number" id="grant-amount" class="form-control" placeholder="Enter amount in USD" value="150000">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="project-description">Project Description</label>
                                    <textarea id="project-description" class="form-control" placeholder="Describe your project, goals, and expected outcomes">The Youth Development Program aims to provide after-school educational and recreational activities for at-risk youth in underserved communities. Through a combination of academic support, mentorship, and skill-building workshops, the program will serve 200 youth annually, focusing on STEM education, career readiness, and personal development.</textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="target-audience">Target Audience/Beneficiaries</label>
                                    <textarea id="target-audience" class="form-control" placeholder="Describe who will benefit from this project">The program will serve at-risk youth aged 12-18 from low-income families in the metropolitan area. Participants will be recruited through partnerships with local schools and community centers, with a focus on youth who face academic challenges or limited access to enrichment opportunities.</textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="grant-source">Grant Source</label>
                                    <input type="text" id="grant-source" class="form-control" placeholder="e.g., National Science Foundation, Ford Foundation" value="Johnson Foundation">
                                </div>

                                <div class="form-group">
                                    <label for="writing-tone">Writing Tone</label>
                                    <select id="writing-tone" class="form-control">
                                        <option value="professional">Professional</option>
                                        <option value="persuasive">Persuasive</option>
                                        <option value="compassionate">Compassionate</option>
                                        <option value="innovative">Innovative</option>
                                        <option value="data-driven">Data-Driven</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                        
                        <div class="writing-preview">
                            <h3>AI-Generated Draft</h3>
                            <div id="ai-draft-preview">
                                <div class="ai-draft">
                                    <div class="ai-draft-header">
                                        <span class="ai-draft-title">Youth Development Program</span>
                                        <div class="ai-draft-actions">
                                            <button class="btn btn-outline">Edit</button>
                                            <button class="btn">Save Draft</button>
                                        </div>
                                    </div>
                                    <div class="ai-draft-content">
                                        <div class="ai-draft-section">
                                            <h4>Executive Summary</h4>
                                            <p>The Youth Empowerment Network seeks funding in the amount of $150,000 to support the Youth Development Program. This initiative addresses critical educational gaps for at-risk youth in underserved communities through comprehensive after-school programming. The project will directly serve 200 youth annually, providing academic support, mentorship, and skill-building opportunities that create pathways to success.</p>
                                        </div>
                                        <div class="ai-draft-section">
                                            <h4>Statement of Need</h4>
                                            <p>Our community faces significant challenges in youth development, particularly among low-income families. Current data indicates that only 45% of youth in our target neighborhoods have access to structured after-school programs, leading to increased risk of academic underperformance and limited career opportunities. Through careful analysis and community input, we have identified specific gaps that this project will address.</p>
                                        </div>
                                        <div class="ai-draft-section">
                                            <h4>Project Goals and Objectives</h4>
                                            <p>1. Improve academic performance among participants by 15% within one academic year<br>
                                            2. Provide career exploration and readiness training for 90% of participants<br>
                                            3. Establish sustainable mentorship relationships for 75% of youth<br>
                                            4. Increase high school graduation rates by 10% in target population</p>
                                        </div>
                                        <div class="ai-draft-section">
                                            <h4>Methodology</h4>
                                            <p>The program will implement evidence-based practices tailored to our specific community context. Our approach combines direct academic support with holistic youth development strategies, including STEM workshops, career exploration sessions, and leadership development. We will employ a mixed-methods evaluation to assess both process implementation and program outcomes.</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Suggestions -->
                                <div class="ai-suggestions">
                                    <h4>AI Suggestions</h4>
                                    <div class="suggestion-card">
                                        <div class="suggestion-header">
                                            <span class="suggestion-type">Enhancement</span>
                                            <div class="suggestion-actions">
                                                <button class="suggestion-btn">Apply</button>
                                                <button class="suggestion-btn">Ignore</button>
                                            </div>
                                        </div>
                                        <p>Consider adding specific metrics for program success evaluation in the methodology section.</p>
                                    </div>
                                    <div class="suggestion-card">
                                        <div class="suggestion-header">
                                            <span class="suggestion-type">Strengthening</span>
                                            <div class="suggestion-actions">
                                                <button class="suggestion-btn">Apply</button>
                                                <button class="suggestion-btn">Ignore</button>
                                            </div>
                                        </div>
                                        <p>The statement of need could be strengthened with local statistics on youth unemployment.</p>
                                    </div>
                                    <div class="suggestion-card">
                                        <div class="suggestion-header">
                                            <span class="suggestion-type">Clarity</span>
                                            <div class="suggestion-actions">
                                                <button class="suggestion-btn">Apply</button>
                                                <button class="suggestion-btn">Ignore</button>
                                            </div>
                                        </div>
                                        <p>Consider breaking down the budget section into more detailed categories for transparency.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Drafts -->
                <div class="section">
                    <div class="section-header">
                        <h3>Your Recent AI Drafts</h3>
                        <button class="btn btn-outline">View All Drafts</button>
                    </div>
                    <div class="drafts-grid">
                        <div class="draft-card">
                            <div class="draft-header">
                                <span class="draft-title">Solar Community Project</span>
                                <span class="draft-date">Oct 18, 2023</span>
                            </div>
                            <div class="draft-preview">
                                Comprehensive proposal for community solar installation in underserved neighborhoods. Focus on renewable energy access and job creation...
                            </div>
                            <div class="draft-actions">
                                <button class="btn btn-outline">Edit</button>
                                <button class="btn">Use as Template</button>
                            </div>
                        </div>
                        <div class="draft-card">
                            <div class="draft-header">
                                <span class="draft-title">Mobile Health Clinic</span>
                                <span class="draft-date">Oct 12, 2023</span>
                            </div>
                            <div class="draft-preview">
                                Proposal for mobile health services targeting rural communities without adequate healthcare access. Includes telemedicine component...
                            </div>
                            <div class="draft-actions">
                                <button class="btn btn-outline">Edit</button>
                                <button class="btn">Use as Template</button>
                            </div>
                        </div>
                        <div class="draft-card">
                            <div class="draft-header">
                                <span class="draft-title">Arts Education Initiative</span>
                                <span class="draft-date">Oct 5, 2023</span>
                            </div>
                            <div class="draft-preview">
                                After-school arts program for elementary students in Title I schools. Focus on creative expression and academic performance improvement...
                            </div>
                            <div class="draft-actions">
                                <button class="btn btn-outline">Edit</button>
                                <button class="btn">Use as Template</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Writing Modal -->
    <div class="modal" id="ai-writing-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>AI Grant Writing in Progress</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div style="text-align: center; padding: 40px 20px;">
                <i class="fas fa-robot" style="font-size: 64px; color: var(--primary); margin-bottom: 20px;"></i>
                <h3 style="margin-bottom: 15px;">Generating Your Grant Proposal</h3>
                <p style="color: var(--gray); margin-bottom: 30px;">Our AI is analyzing your project details and creating a comprehensive grant proposal.</p>
                <div style="display: flex; justify-content: center; margin-bottom: 30px;">
                    <div class="ai-step active">
                        <div class="step-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <p>Analyzing</p>
                    </div>
                    <div class="ai-step">
                        <div class="step-icon">
                            <i class="fas fa-pen"></i>
                        </div>
                        <p>Writing</p>
                    </div>
                    <div class="ai-step">
                        <div class="step-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <p>Finalizing</p>
                    </div>
                </div>
                <div class="btn" id="view-draft-btn" style="display: none;">View Draft</div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const appContainer = document.getElementById('app-container');
        const logoutBtn = document.getElementById('logout-btn');
        const dropdownLogout = document.getElementById('dropdown-logout');
        const userProfileToggle = document.getElementById('user-profile-toggle');
        const userDropdown = document.getElementById('user-dropdown');
        const navLinks = document.querySelectorAll('.nav-links a');
        const generateDraftBtn = document.getElementById('generate-draft-btn');
        const startWritingBtn = document.getElementById('start-writing-btn');
        const aiWritingModal = document.getElementById('ai-writing-modal');
        const viewDraftBtn = document.getElementById('view-draft-btn');
        const closeModalBtns = document.querySelectorAll('.close-modal');
        const aiSteps = document.querySelectorAll('.ai-step');
        const suggestionBtns = document.querySelectorAll('.suggestion-btn');

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load user data
            const userData = JSON.parse(localStorage.getItem('grantflow-user') || '{}');
            if (userData.name) {
                document.getElementById('user-display-name').textContent = userData.name;
                document.getElementById('user-avatar').src = userData.avatar;
            }
            
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Handle logout separately
                    if (this.id === 'logout-btn') {
                        return;
                    }
                    
                    const page = this.getAttribute('data-page');
                    if (page) {
                        navigateToPage(page);
                    }
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // User profile dropdown toggle
            userProfileToggle.addEventListener('click', function() {
                userDropdown.classList.toggle('show');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!userProfileToggle.contains(e.target) && !userDropdown.contains(e.target)) {
                    userDropdown.classList.remove('show');
                }
            });

            // Generate draft button
            generateDraftBtn.addEventListener('click', function() {
                const projectTitle = document.getElementById('project-title').value;
                const organization = document.getElementById('organization').value;
                
                if (!projectTitle || !organization) {
                    alert('Please fill in at least the project title and organization name');
                    return;
                }
                
                // Show modal
                aiWritingModal.style.display = 'flex';
                
                // Simulate AI processing
                let step = 0;
                const steps = document.querySelectorAll('#ai-writing-modal .ai-step');
                const interval = setInterval(() => {
                    if (step > 0) {
                        steps[step-1].classList.remove('active');
                    }
                    
                    if (step < steps.length) {
                        steps[step].classList.add('active');
                        step++;
                    } else {
                        clearInterval(interval);
                        viewDraftBtn.style.display = 'inline-block';
                    }
                }, 1000);
            });

            // Start writing button
            startWritingBtn.addEventListener('click', function() {
                // Reset form and focus on first field
                document.getElementById('project-title').focus();
                
                // Scroll to form section
                document.querySelector('.writing-workspace').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            });

            // View draft button
            viewDraftBtn.addEventListener('click', function() {
                aiWritingModal.style.display = 'none';
                
                // Update step indicators
                aiSteps.forEach(step => step.classList.remove('active'));
                aiSteps[2].classList.add('active');
                
                // Show success message
                alert('Grant draft generated successfully! You can now review and refine the content.');
            });

            // Suggestion buttons
            suggestionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.textContent === 'Apply') {
                        const suggestionCard = this.closest('.suggestion-card');
                        suggestionCard.style.background = 'rgba(34, 139, 34, 0.1)';
                        this.textContent = 'Applied';
                        this.disabled = true;
                        
                        // Show confirmation
                        alert('Suggestion applied to your draft!');
                    } else if (this.textContent === 'Ignore') {
                        const suggestionCard = this.closest('.suggestion-card');
                        suggestionCard.style.opacity = '0.5';
                        this.textContent = 'Ignored';
                        this.disabled = true;
                    }
                });
            });

            // Close modals
            closeModalBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    aiWritingModal.style.display = 'none';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === aiWritingModal) {
                    aiWritingModal.style.display = 'none';
                }
            });

            // Form field interactions
            const formFields = document.querySelectorAll('#grant-writing-form input, #grant-writing-form select, #grant-writing-form textarea');
            formFields.forEach(field => {
                field.addEventListener('input', function() {
                    // Update step indicators based on form completion
                    updateStepIndicators();
                });
            });

            // Initialize step indicators
            updateStepIndicators();
        });

        // Update step indicators based on form completion
        function updateStepIndicators() {
            const projectTitle = document.getElementById('project-title').value;
            const organization = document.getElementById('organization').value;
            const projectDescription = document.getElementById('project-description').value;
            const grantSource = document.getElementById('grant-source').value;
            
            // Step 1: Project Information
            if (projectTitle && organization && projectDescription) {
                aiSteps[0].classList.add('active');
            } else {
                aiSteps[0].classList.remove('active');
            }
            
            // Step 2: Grant Requirements
            if (grantSource) {
                aiSteps[1].classList.add('active');
            } else {
                aiSteps[1].classList.remove('active');
            }
        }

        // Navigate to different pages
        function navigateToPage(page) {
            // In a real app, this would load the appropriate page
            alert(`Navigating to ${page} page...`);
        }
    </script>
</body>
</html>